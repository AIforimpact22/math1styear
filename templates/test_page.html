{% extends "index.html" %}
{% block page_title %}Test Page — Halmazelmélet{% endblock %}

{% block content %}
<section class="canvas-card" aria-label="Test page form">
  <style>
    .test-wrap{ padding:14px; display:flex; flex-direction:column; gap:14px; }
    .card{ background:#0f141c; border:1px solid #233040; border-radius:12px; padding:12px; }
    .id-grid{ display:grid; gap:10px; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); }
    .id-field{ display:flex; flex-direction:column; gap:6px; }
    .id-field label{ color:#cbd7ea; font-weight:600; }
    .id-field input{ background:#0d1320; border:1px solid #263243; color:#e8f0ff; padding:10px; border-radius:8px; }
    .id-field input:focus{ outline:1px solid #7aa2ff; border-color:#7aa2ff; }

    .part-title{ margin:0 0 6px; color:#e4ecff; font-size:16px; }
    .part-note{ margin:0; color:#9fb2c7; }

    .exam-img{ width:100%; max-width:880px; border-radius:12px; border:1px solid #233040; background:#0d1320; padding:10px; }
    .question{ display:flex; flex-direction:column; gap:10px; }
    .choices{ display:grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap:8px; }
    .pill-choice{ display:flex; align-items:center; gap:8px; background:#0d1320; border:1px solid #263243; padding:8px 10px; border-radius:10px; }
    .pill-choice input{ accent-color:#7aa2ff; }
    .pill-choice label{ color:#dbe6ff; }

    .dual-grid{ display:grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap:10px; }
    .dual-grid h4{ margin:0 0 6px; color:#cbd7ea; }
    .unlock-hint{ margin:6px 0 0; color:#9fb2c7; font-size:14px; }
  </style>

  <div class="test-wrap">
    <div class="card" aria-label="Student identification">
      <h3 class="part-title">Írd be az adataidat</h3>
      <p class="part-note">A teszt azonosításához add meg a Neptun-kódodat, a nevedet és a megadott jelszót.</p>
      <div class="id-grid">
        <div class="id-field">
          <label for="neptun">Neptun-kód</label>
          <input id="neptun" name="neptun" type="text" placeholder="pl. ABC123" autocomplete="off" />
        </div>
        <div class="id-field">
          <label for="name">Név</label>
          <input id="name" name="name" type="text" placeholder="Vezetéknév Keresztnév" autocomplete="name" />
        </div>
        <div class="id-field">
          <label for="password">Jelszó</label>
          <input id="password" name="password" type="password" autocomplete="off" />
        </div>
      </div>
      <p id="unlock-status" class="unlock-hint" role="status" aria-live="polite">
        Írd be a jelszót a feladatok megnyitásához.
      </p>
    </div>

    <div id="protected-content" hidden>
      <div class="card" aria-label="Halmazelmélet Section">
        <h3 class="part-title">1. rész — Halmazelmélet</h3>
        <p class="part-note">Használd az ábrát és a megadott elemeket a feladatok megoldásához.</p>
        <img class="exam-img" src="https://raw.githubusercontent.com/AIforimpact22/math1styear/main/content/Exam.png" alt="Halmazelmélet vizuális feladat" />
      </div>

      <div class="card" aria-label="Logikai műveletek áttekintés">
        <h3 class="part-title">2. rész — Logikai műveletek</h3>
        <p class="part-note">Az alábbi táblázatban a legfontosabb logikai jeleket és jelentésüket találod.</p>
        <div class="table-container" style="overflow-x:auto;">
          <table style="width:100%; border-collapse:collapse; color:#e8f0ff;">
            <caption style="text-align:left; color:#cbd7ea; padding-bottom:8px;">Logikai jelölések összefoglalója</caption>
            <thead>
              <tr style="background:#0d1320; border-bottom:1px solid #263243;">
                <th scope="col" style="padding:8px; text-align:left;">Jel</th>
                <th scope="col" style="padding:8px; text-align:left;">Név (magyarul)</th>
                <th scope="col" style="padding:8px; text-align:left;">Jelentés / Magyarázat</th>
              </tr>
            </thead>
            <tbody>
              <tr style="border-bottom:1px solid #263243;">
                <td style="padding:8px;">p, q, r</td>
                <td style="padding:8px;">Változók</td>
                <td style="padding:8px;">Logikai állításokat jelölnek</td>
              </tr>
              <tr style="border-bottom:1px solid #263243;">
                <td style="padding:8px;">¬</td>
                <td style="padding:8px;">Negáció</td>
                <td style="padding:8px;">NEM – tagadás</td>
              </tr>
              <tr style="border-bottom:1px solid #263243;">
                <td style="padding:8px;">∧</td>
                <td style="padding:8px;">Konjunkció</td>
                <td style="padding:8px;">ÉS – mindkettő igaz</td>
              </tr>
              <tr style="border-bottom:1px solid #263243;">
                <td style="padding:8px;">∨</td>
                <td style="padding:8px;">Diszjunkció</td>
                <td style="padding:8px;">VAGY – legalább egyik igaz</td>
              </tr>
              <tr style="border-bottom:1px solid #263243;">
                <td style="padding:8px;">( )</td>
                <td style="padding:8px;">Zárójelek</td>
                <td style="padding:8px;">Csoportosítás logikai kifejezésekben</td>
              </tr>
              <tr style="border-bottom:1px solid #263243;">
                <td style="padding:8px;">⊥</td>
                <td style="padding:8px;">Ellentmondás</td>
                <td style="padding:8px;">Hamis, ellentmondó állítás</td>
              </tr>
              <tr style="border-bottom:1px solid #263243;">
                <td style="padding:8px;">→</td>
                <td style="padding:8px;">Implikáció</td>
                <td style="padding:8px;">Ha… akkor… kapcsolat</td>
              </tr>
              <tr>
                <td style="padding:8px;">↔</td>
                <td style="padding:8px;">Ekvivalencia</td>
                <td style="padding:8px;">Akkor és csak akkor, ha… kapcsolat</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

        <div class="card question" aria-label="S minus M question">
          <h3 class="part-title">Feladat: Add meg az S és M halmazok különbségét (S \ M), az elemek felsorolásával.</h3>
          <label class="id-field" for="s-minus-m-answer">
            <span>Válasz</span>
            <textarea id="s-minus-m-answer" name="s_minus_m_answer" rows="4" style="width:100%; background:#0d1320; color:#e8f0ff; border:1px solid #263243; border-radius:8px; padding:10px;"></textarea>
          </label>
        </div>

        <div class="card question" aria-label="Symmetric difference question">
          <h3 class="part-title">Feladat: Mit fejez ki az I Δ M szimmetrikus különbség? Adj meg egy beletartozó és egy kimaradó ásványt.</h3>
          <label class="id-field" for="idm-answer">
            <span>Válasz</span>
            <textarea id="idm-answer" name="idm_answer" rows="4" style="width:100%; background:#0d1320; color:#e8f0ff; border:1px solid #263243; border-radius:8px; padding:10px;"></textarea>
          </label>
        </div>

      <div class="card question" aria-label="Union of intersection and symmetric difference question">
        <h3 class="part-title">Feladat: Hogyan írnád fel az alábbi művelet (I ∩ M) U (I Δ M) eredményét egyszerűbben?</h3>
        <label class="id-field" for="intersection-union-answer">
          <span>Válasz</span>
          <textarea id="intersection-union-answer" name="intersection_union_answer" rows="4" style="width:100%; background:#0d1320; color:#e8f0ff; border:1px solid #263243; border-radius:8px; padding:10px;"></textarea>
        </label>
      </div>
    </div>
  </div>
</section>
<script>
  (() => {
    const REQUIRED_PASSWORD = "Szeged2025";
    const passwordInput = document.getElementById("password");
    const protectedContent = document.getElementById("protected-content");
    const status = document.getElementById("unlock-status");

    const updateVisibility = () => {
      const provided = passwordInput.value.trim();
      const unlocked = provided === REQUIRED_PASSWORD;
      protectedContent.hidden = !unlocked;
      if (status) {
        if (!provided) {
          status.textContent = "Írd be a jelszót a feladatok megnyitásához.";
        } else if (unlocked) {
          status.textContent = "Hozzáférés engedélyezve. A feladatok láthatók.";
        } else {
          status.textContent = "Hibás jelszó. Próbáld újra.";
        }
      }
    };

    passwordInput.addEventListener("input", updateVisibility);
    updateVisibility();
  })();
</script>
{% endblock %}

